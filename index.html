<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Administra√ß√£o - Jogos Educativos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #4a5568;
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            text-align: center;
            color: #718096;
            font-size: 1.3em;
            margin-bottom: 40px;
        }
        
        .level-section {
            text-align: center;
        }
        
        .level-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .level-btn {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border: none;
            border-radius: 15px;
            padding: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-decoration: none;
            color: #2d3748;
        }
        
        .level-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .level-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }
        
        .level-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .level-description {
            font-size: 1em;
            color: #4a5568;
        }
        
        .games-section {
            text-align: center;
        }
        
        .hidden {
            display: none !important;
        }
        
        .back-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .game-card {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            border-radius: 15px;
            padding: 30px;
            text-decoration: none;
            color: #2d3748;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            display: block;
        }
        
        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .game-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }
        
        .game-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .game-description {
            font-size: 1em;
            color: #4a5568;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #718096;
        }
        
        @media (max-width: 600px) {
            .games-grid, .level-options {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.5em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Solicita√ß√£o de Nome -->
        <div id="name-input" class="level-section">
            <h1>üéØ Quiz Administra√ß√£o üéØ</h1>
            <p class="subtitle">Bem-vindo! Preencha seus dados para come√ßar:</p>
            
            <div style="text-align: center; margin: 30px 0;">
                <input type="text" id="student-name" placeholder="Nome Completo" style="padding: 15px; font-size: 1.1em; border-radius: 10px; border: 2px solid #667eea; width: 350px; margin: 10px; display: block; margin-left: auto; margin-right: auto;" required>
                
                <select id="student-semestre" style="padding: 15px; font-size: 1.1em; border-radius: 10px; border: 2px solid #667eea; width: 350px; margin: 10px; display: block; margin-left: auto; margin-right: auto;" required>
                    <option value="">Selecione o Semestre</option>
                    <option value="1¬∫ Semestre">1¬∫ Semestre</option>
                    <option value="2¬∫ Semestre">2¬∫ Semestre</option>
                </select>
                
                <select id="student-turma" style="padding: 15px; font-size: 1.1em; border-radius: 10px; border: 2px solid #667eea; width: 350px; margin: 10px; display: block; margin-left: auto; margin-right: auto;" required>
                    <option value="">Selecione a Turma</option>
                    <option value="Turma A">Turma A</option>
                    <option value="Turma B">Turma B</option>
                </select>
                
                <select id="student-periodo" style="padding: 15px; font-size: 1.1em; border-radius: 10px; border: 2px solid #667eea; width: 350px; margin: 10px; display: block; margin-left: auto; margin-right: auto;" required>
                    <option value="">Selecione o Per√≠odo</option>
                    <option value="Tarde">Tarde</option>
                    <option value="Noite">Noite</option>
                </select>
                
                <input type="email" id="student-email" placeholder="Email (opcional)" style="padding: 15px; font-size: 1.1em; border-radius: 10px; border: 2px solid #667eea; width: 350px; margin: 10px; display: block; margin-left: auto; margin-right: auto;">
                
                <button id="confirm-name" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 25px; padding: 15px 40px; font-size: 1.1em; cursor: pointer; margin-top: 20px;">Confirmar e Entrar</button>
            </div>
        </div>
        
        <!-- Sele√ß√£o de N√≠vel -->
        <div id="level-selection" class="level-section hidden">
            <h1>üéØ Ol√°, <span id="player-name"></span>! üéØ</h1>
            <p class="subtitle">Escolha seu n√≠vel de conhecimento em Administra√ß√£o:</p>
            
            <button onclick="sairSistema()" style="background: #f44336; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px;">
                üö™ Sair do Sistema
            </button>
            
            <div class="level-options">
                <button class="level-btn" data-level="basico">
                    <div class="level-icon">üìö</div>
                    <div class="level-title">B√°sico</div>
                    <div class="level-description">Conceitos fundamentais de Administra√ß√£o</div>
                </button>
                
                <button class="level-btn" data-level="intermediario">
                    <div class="level-icon">üéì</div>
                    <div class="level-title">Intermedi√°rio</div>
                    <div class="level-description">Gest√£o e Lideran√ßa</div>
                </button>
                
                <button class="level-btn" data-level="avancado">
                    <div class="level-icon">üíº</div>
                    <div class="level-title">Avan√ßado</div>
                    <div class="level-description">Estrat√©gia e Inova√ß√£o</div>
                </button>
            </div>
        </div>
        
        <!-- Jogos B√°sico -->
        <div id="games-basico" class="games-section hidden">
            <h1>üìö Administra√ß√£o - B√°sico üìö</h1>
            <button class="back-btn" onclick="showLevelSelection()">‚¨ÖÔ∏è Voltar aos N√≠veis</button>
            <button onclick="sairSistema()" style="background: #f44336; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px; margin-left: 10px;">
                üö™ Sair
            </button>
            
            <div class="games-grid">
                <a href="quiz-basico.html" class="game-card">
                    <div class="game-icon">üéØ</div>
                    <div class="game-title">Quiz Fundamentos</div>
                    <div class="game-description">Habilidades e fun√ß√µes administrativas</div>
                </a>
                
                <a href="jogo-memoria.html" class="game-card">
                    <div class="game-icon">üß†</div>
                    <div class="game-title">Jogo da Mem√≥ria</div>
                    <div class="game-description">Encontre os pares de conceitos b√°sicos</div>
                </a>
                
                <a href="jogo-arrastar.html" class="game-card">
                    <div class="game-icon">üéØ</div>
                    <div class="game-title">Arrastar e Soltar</div>
                    <div class="game-description">Organize habilidades e departamentos</div>
                </a>
                
                <a href="jogo-lacunas-basico.html" class="game-card">
                    <div class="game-icon">üìù</div>
                    <div class="game-title">Preencher Lacunas</div>
                    <div class="game-description">Complete frases sobre conceitos b√°sicos</div>
                </a>
                
                <a href="jogo-forca.html" class="game-card">
                    <div class="game-icon">üé™</div>
                    <div class="game-title">Jogo da Forca</div>
                    <div class="game-description">Descubra palavras administrativas</div>
                </a>
            </div>
        </div>
        
        <!-- Jogos Intermedi√°rio -->
        <div id="games-intermediario" class="games-section hidden">
            <h1>üéì Administra√ß√£o - Intermedi√°rio üéì</h1>
            <button class="back-btn" onclick="showLevelSelection()">‚¨ÖÔ∏è Voltar aos N√≠veis</button>
            <button onclick="sairSistema()" style="background: #f44336; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px; margin-left: 10px;">
                üö™ Sair
            </button>
            
            <div class="games-grid">
                <a href="quiz-intermediario.html" class="game-card">
                    <div class="game-icon">üë•</div>
                    <div class="game-title">Quiz Gest√£o</div>
                    <div class="game-description">Lideran√ßa, motiva√ß√£o e gest√£o de pessoas</div>
                </a>
                
                <a href="jogo-memoria-intermediario.html" class="game-card">
                    <div class="game-icon">üß†</div>
                    <div class="game-title">Mem√≥ria - Gest√£o</div>
                    <div class="game-description">Encontre os pares de conceitos de gest√£o</div>
                </a>
                
                <a href="jogo-arrastar-intermediario-novo.html" class="game-card">
                    <div class="game-icon">üéØ</div>
                    <div class="game-title">Objetivos Empresariais</div>
                    <div class="game-description">Organize conceitos por Miss√£o, Vis√£o, Valores</div>
                </a>
                
                <a href="jogo-completar-intermediario.html" class="game-card">
                    <div class="game-icon">üìù</div>
                    <div class="game-title">Objetivos Empresariais</div>
                    <div class="game-description">Complete frases sobre Miss√£o, Vis√£o, Valores</div>
                </a>
            </div>
        </div>
        
        <!-- Jogos Avan√ßado -->
        <div id="games-avancado" class="games-section hidden">
            <h1>üíº Administra√ß√£o - Avan√ßado üíº</h1>
            <button class="back-btn" onclick="showLevelSelection()">‚¨ÖÔ∏è Voltar aos N√≠veis</button>
            <button onclick="sairSistema()" style="background: #f44336; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin-bottom: 20px; margin-left: 10px;">
                üö™ Sair
            </button>
            
            <div class="games-grid">
                <a href="quiz-avancado.html" class="game-card">
                    <div class="game-icon">üìà</div>
                    <div class="game-title">Quiz Estrat√©gico</div>
                    <div class="game-description">Planejamento estrat√©gico e inova√ß√£o</div>
                </a>
                
                <a href="jogo-memoria-avancado.html" class="game-card">
                    <div class="game-icon">üß†</div>
                    <div class="game-title">Mem√≥ria - Estrat√©gia</div>
                    <div class="game-description">Encontre pares de conceitos estrat√©gicos</div>
                </a>
                
                <a href="jogo-caca-palavras-avancado.html" class="game-card">
                    <div class="game-icon">üîç</div>
                    <div class="game-title">Ca√ßa-Palavras Estrat√©gico</div>
                    <div class="game-description">Encontre termos de gest√£o estrat√©gica</div>
                </a>
                
                <a href="jogo-forca.html" class="game-card">
                    <div class="game-icon">üé™</div>
                    <div class="game-title">Jogo da Forca</div>
                    <div class="game-description">Descubra palavras com dicas</div>
                </a>
            </div>
        </div>
        
        <!-- Painel de Estat√≠sticas -->
        <div id="stats-panel" class="level-section hidden" style="margin-top: 30px;">
            <h2>üèÜ Suas Estat√≠sticas</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                <div id="pontuacao-display"></div>
                <div id="progresso-display"></div>
            </div>
            <div id="detalhes-jogos" style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 10px 0;"></div>
            <button onclick="resetarProgresso()" style="background: #f44336; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer; margin: 10px;">Resetar Progresso</button>
        </div>
        
        <div class="footer">
            <p>‚ú® Quiz Administra√ß√£o - Jogos educativos para gestores ‚ú®</p>
            <p>Plataforma desenvolvida para o ensino de Administra√ß√£o</p>
            <p><strong>Feito por Prof. Borges</strong></p>
        </div>
    </div>

    <script src="sistema-pontuacao.js"></script>
    <script>
        let playerName = '';
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbxGo9xDtDLZdYJlHBN7oOk2fbOTppZ5s0v0uvLJKWjYp50BbUkrmF6Im6Sm_gP-qiz4/exec';
        
        function confirmName() {
            const nameInput = document.getElementById('student-name');
            const semestreInput = document.getElementById('student-semestre');
            const turmaInput = document.getElementById('student-turma');
            const periodoInput = document.getElementById('student-periodo');
            const emailInput = document.getElementById('student-email');
            
            const name = nameInput.value.trim();
            const semestre = semestreInput.value;
            const turma = turmaInput.value;
            const periodo = periodoInput.value;
            const email = emailInput.value.trim();
            
            if (name === '') {
                alert('Por favor, digite seu nome completo!');
                nameInput.focus();
                return;
            }
            
            if (semestre === '') {
                alert('Por favor, selecione seu semestre!');
                semestreInput.focus();
                return;
            }
            
            if (turma === '') {
                alert('Por favor, selecione sua turma!');
                turmaInput.focus();
                return;
            }
            
            if (periodo === '') {
                alert('Por favor, selecione seu per√≠odo!');
                periodoInput.focus();
                return;
            }
            
            playerName = name;
            
            // Limpar pontua√ß√£o anterior (novo aluno)
            sistemaPontuacao.resetar();
            
            // Registrar acesso no Google Sheets e LocalStorage
            registrarAcesso(name, semestre, turma, periodo, email);
            
            document.getElementById('name-input').classList.add('hidden');
            document.getElementById('level-selection').classList.remove('hidden');
            document.getElementById('player-name').textContent = playerName;
        }
        
        function registrarAcesso(nome, semestre, turma, periodo, email) {
            const agora = new Date();
            const stats = sistemaPontuacao.obterEstatisticas();
            
            const dados = {
                nome: nome,
                semestre: semestre,
                turma: turma,
                periodo: periodo,
                email: email || 'N√£o informado',
                data: agora.toLocaleDateString('pt-BR'),
                hora: agora.toLocaleTimeString('pt-BR'),
                pontuacao: stats.pontuacaoTotal,
                progresso: stats.progresso + '%',
                jogosCompletados: stats.jogosCompletados,
                timestamp: agora.getTime()
            };
            
            // Salvar dados do aluno atual para uso nos jogos
            localStorage.setItem('dados_aluno_atual', JSON.stringify({
                nome: nome,
                semestre: semestre,
                turma: turma,
                periodo: periodo,
                email: email || 'N√£o informado'
            }));
            
            // Salvar URL do Google Sheets
            localStorage.setItem('google_script_url', GOOGLE_SCRIPT_URL);
            
            // Salvar no LocalStorage (backup local)
            const acessos = JSON.parse(localStorage.getItem('relatorio_acessos') || '[]');
            acessos.push(dados);
            localStorage.setItem('relatorio_acessos', JSON.stringify(acessos));
            
            // Enviar para Google Sheets
            fetch(GOOGLE_SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(dados)
            }).catch(error => {
                console.log('Dados salvos localmente. Conex√£o com Google Sheets pode estar offline.');
            });
        }
        
        function showGamesForLevel(level) {
            // B√°sico sempre liberado
            if (level === 'basico') {
                document.getElementById('level-selection').classList.add('hidden');
                document.getElementById('games-basico').classList.remove('hidden');
                atualizarEstatisticas();
                return;
            }
            
            // Verificar senha para intermedi√°rio e avan√ßado
            const senhas = {
                'intermediario': 'ADM2024',
                'avancado': 'GESTAO2024'
            };
            
            const senhaDigitada = prompt(`Digite a senha para acessar o n√≠vel ${level === 'intermediario' ? 'Intermedi√°rio' : 'Avan√ßado'}:`);
            
            if (senhaDigitada === senhas[level]) {
                document.getElementById('level-selection').classList.add('hidden');
                document.getElementById('games-basico').classList.add('hidden');
                document.getElementById('games-intermediario').classList.add('hidden');
                document.getElementById('games-avancado').classList.add('hidden');
                document.getElementById('games-' + level).classList.remove('hidden');
                atualizarEstatisticas();
            } else {
                alert('‚ùå Senha incorreta! Solicite a senha ao professor.');
            }
        }
        
        function showLevelSelection() {
            document.getElementById('level-selection').classList.remove('hidden');
            document.getElementById('games-basico').classList.add('hidden');
            document.getElementById('games-intermediario').classList.add('hidden');
            document.getElementById('games-avancado').classList.add('hidden');
            document.getElementById('stats-panel').classList.add('hidden');
            document.getElementById('name-input').classList.add('hidden');
        }
        
        function atualizarEstatisticas() {
            const stats = sistemaPontuacao.obterEstatisticas();
            
            mostrarPontuacao('pontuacao-display', stats.pontuacaoTotal, 'Pontos Totais');
            criarBarraProgresso('progresso-display', stats.progresso, 'Progresso Geral');
            
            // Mostrar detalhes dos jogos
            const detalhesContainer = document.getElementById('detalhes-jogos');
            const nomeJogos = {
                'quiz-basico': 'Quiz B√°sico',
                'quiz-intermediario': 'Quiz Intermedi√°rio', 
                'quiz-avancado': 'Quiz Avan√ßado',
                'memoria': 'Jogo da Mem√≥ria B√°sico',
                'memoria-intermediario': 'Mem√≥ria - Planejamento',
                'memoria-avancado': 'Mem√≥ria - Estrat√©gia',
                'arrastar': 'Arrastar - Habilidades',
                'arrastar-intermediario': 'Arrastar - Objetivos',
                'arrastar-intermediario-novo': 'Objetivos Empresariais',
                'arrastar-avancado': 'Gest√£o de Projetos',
                'lacunas': 'Lacunas B√°sicas',
                'lacunas-basico': 'Preencher Lacunas B√°sico',
                'completar-intermediario': 'Completar - Objetivos',
                'caca-palavras-avancado': 'Ca√ßa-Palavras Tech',
                'forca': 'Jogo da Forca'
            };
            
            let detalhesHTML = '<h4>Jogos Completados:</h4>';
            if (Object.keys(stats.detalhes).length === 0) {
                detalhesHTML += '<p>Nenhum jogo completado ainda.</p>';
            } else {
                for (const [jogo, pontos] of Object.entries(stats.detalhes)) {
                    detalhesHTML += `<div style="margin: 5px 0;">‚úÖ ${nomeJogos[jogo] || jogo}: ${pontos} pontos</div>`;
                }
            }
            detalhesContainer.innerHTML = detalhesHTML;
            
            document.getElementById('stats-panel').classList.remove('hidden');
        }
        
        function resetarProgresso() {
            if (confirm('Tem certeza que deseja resetar todo o progresso?')) {
                sistemaPontuacao.resetar();
                atualizarEstatisticas();
            }
        }
        
        function sairSistema() {
            if (confirm('Deseja sair do sistema?')) {
                location.reload();
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // For√ßar esconder todos os jogos na inicializa√ß√£o
            document.getElementById('games-basico').classList.add('hidden');
            document.getElementById('games-intermediario').classList.add('hidden');
            document.getElementById('games-avancado').classList.add('hidden');
            document.getElementById('stats-panel').classList.add('hidden');
            document.getElementById('level-selection').classList.add('hidden');
            
            // Sempre mostrar tela de nome
            document.getElementById('name-input').classList.remove('hidden');
            
            document.getElementById('confirm-name').addEventListener('click', confirmName);
            
            document.getElementById('student-name').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    confirmName();
                }
            });
            
            document.getElementById('student-email').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    confirmName();
                }
            });
            
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const level = btn.dataset.level;
                    showGamesForLevel(level);
                });
            });
        });
    </script>
</body>
</html>